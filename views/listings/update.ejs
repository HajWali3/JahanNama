<!-- <% layout("/layouts/boilerplate.ejs") %> -->
<div class="row">
  <div class="col-8 offset-2">
  <h3>Update</h3>
  <form method="post" action="/listings/<%= list._id  %>?_method=PUT" novalidate class="needs-validation" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="title" class="form-label">Title</label>
      <input
        type="text"
        name="listing[title]"
        id="title"
        value="<%= list.title %>"
        placeholder="Add a catchy title"
        class="form-control"
        required
      />
       <div class="valid-feedback">Title looks good!.</div>
      <div class="invalid-feedback">Title is required.</div>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <textarea
        name="listing[description]"
        id="description"
        placeholder="Enter description"
        class="form-control"
        required
      >
  <%= list.description %> </textarea
      >
      <div class="valid-feedback">Description is valid.</div>
      <div class="invalid-feedback">Description cannot be empty.</div>

      <div class="mb-3">
          <label class="form-label">Select a Category for Your Listing</label>
          <p class="text-muted fs-12">
            Choose one or more categories that best describe your listing
          </p>
          <div class="row">
            <div class="col-md-4">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Domes"
                  id="category-domes"
                />
                <label class="form-check-label fs-12" for="category-domes"
                  >Domes</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Beach"
                  id="category-beach"
                />
                <label class="form-check-label" for="category-beach"
                  >Beach</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Farms"
                  id="category-farms"
                />
                <label class="form-check-label" for="category-farms"
                  >Farms</label
                >
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Camping"
                  id="category-camping"
                />
                <label class="form-check-label" for="category-camping"
                  >Camping</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Arctic"
                  id="category-arctic"
                />
                <label class="form-check-label" for="category-arctic"
                  >Arctic</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Castles"
                  id="category-castles"
                />
                <label class="form-check-label" for="category-castles"
                  >Castles</label
                >
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Mountains"
                  id="category-mountains"
                />
                <label class="form-check-label" for="category-mountains"
                  >Mountains</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Iconic cities"
                  id="category-cities"
                />
                <label class="form-check-label" for="category-cities"
                  >Iconic cities</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Rooms"
                  id="category-rooms"
                />
                <label class="form-check-label" for="category-rooms"
                  >Rooms</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="listing[category]"
                  value="Trending"
                  id="category-trending"
                />
                <label class="form-check-label" for="category-rooms"
                  >Trending</label
                >
              </div>
            </div>
          </div>
        </div>

      <div class="mb-1 mt-4"> Orignal Listing Image <br>
        <img src="<%= orignalUrl %>" alt="img" height="150" width="250" >
      </div>

      <div class="mb-3 ">
          <label for="image" class="form-label">Upload New Image</label>
          <input
            type="file"
            name="listing[image]"
            id="image"
            class="form-control"
          />
        </div>

      <div class="row p-0">
          <div class="col-md-4">
            <label for="price" class="form-label">Price</label>
            <input
              type="number"
              name="listing[price]"
              id="price"
              placeholder="1200"
               value="<%= list.price %>"
              class="form-control"
        required
            />
            <div class="valid-feedback">Price is valid.</div>
        <div class="invalid-feedback">Price is required.</div>
          </div>

          <div class="col-md-8">
            <label for="country" class="form-label">Country</label>
            <input
              type="text"
              name="listing[country]"
              id="country"
              placeholder="Pakistan"
              value="<%= list.country %>"
              class="form-control"
        required
            />
             <div class="valid-feedback">Country name is valid.</div>
        <div class="invalid-feedback">Please enter a country name.</div>
          </div>
        </div>

        <div class="mb-3">
          <label for="location" class="form-label">Location</label>
          <input
            type="text"
            name="listing[location]"
            id="location"
            placeholder="Islamabad"
            value="<%= list.location %>"
            class="form-control"
        required
          />
          <div class="valid-feedback">Location is valid.</div>
      <div class="invalid-feedback">Please enter a valid location.</div>
        </div>

    <button
      class="mt-3 px-4 py-2 border-none bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75"
    >
      Edit
    </button>
    
  </form>
 </div>
  </div>
